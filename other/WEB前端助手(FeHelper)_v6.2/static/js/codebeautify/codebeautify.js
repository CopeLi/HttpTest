var CodeBeautify=(function(){var c={brace_style:"collapse",break_chained_methods:false,indent_char:" ",indent_scripts:"keep",indent_size:"4",keep_array_indentation:true,preserve_newlines:true,space_after_anon_function:true,space_before_conditional:true,unescape_strings:false,wrap_line_length:"120"};var b="Javascript";var a=function(){if(b=="Javascript"){var h=js_beautify($("#codeSource").val(),c);h=h.replace(/>/g,"&gt;").replace(/</g,"&lt;");h='<pre class="brush: js;toolbar:false;">'+h+"</pre>";$("#jfContent").html(h)}else{if(b=="CSS"){var g=css_beautify($("#codeSource").val());g='<pre class="brush: css;toolbar:true;">'+g+"</pre>";$("#jfContent").html(g)}else{if(b=="HTML"){var f=html_beautify($("#codeSource").val());f='<pre class="brush: html;toolbar:false;">'+f+"</pre>";$("#jfContent").html(f)}}}SyntaxHighlighter.defaults.toolbar=false;SyntaxHighlighter.highlight()};var d=function(){$('input[name="codeType"]').click(function(f){b=this.value;$("#codeTitle").html(this.value)});$("#btnFormat").click(function(f){a()})};var e=function(){chrome.runtime.onMessage.addListener(function(g,f,h){console.log(g);if(g.type==MSG_TYPE.TAB_CREATED_OR_UPDATED&&g.event=="codebeautify"){if(g.content){document.getElementById("codeSource").value=(g.content);a()}}});$(function(){jQuery("#codeSource").focus();d()})};return{init:e}})();CodeBeautify.init();